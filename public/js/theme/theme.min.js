'use strict';



/*********
 *Navigation Js START
 **************/

$(document).ready(function () {
  $('#sidebarCollapse').on('click', function () {
    $('.site-menubar-unfold').toggleClass('site-menubar-hide');
  });
});
/*********
 *Navigation Js END
 **************/

/*********
*Waves Js START
**************/
var scrollingAnimations = $("body").data("scrolling-animations");
if (scrollingAnimations) {
  // new WOW().init();
}


Waves.init();
/*********
*Waves Js END
**************/



/*********
*Waves Js END
**************/

$(document).ready(function () {

  $('body').tooltip({ selector: '[data-toggle="tooltip"]' });
  //$('[data-toggle="tooltip"]').tooltip()
})
$(document).ready(function () {
  $('[data-toggle="popover"]').popover()
})





function readURL(input, attr) {
  if (input.files && input.files[0]) {

    var reader = new FileReader();
    reader.onload = function (e) {
      $('#' + attr).attr('src', e.target.result);
      
      if (attr == "survey_company_logo_img")
      {
        $("#survey_company_logo_dummy").val(e.target.result);
      }
      else
      {
        $("#welcome_image_dummy").val(e.target.result);
      }
     


     
      
    };

    

    reader.readAsDataURL(input.files[0]);

  }
}

$("#profile_image").change(function () {

  readURL(this, 'profile_photo_img');
});

$(document).on('change', '#company_logo', function () {
//$("#company_logo").change(function () {

  readURL(this, 'company_logo_img');
  
});


$(document).on('change', '#company_logo_edit', function () {
  //$("#company_logo").change(function () {

  readURL(this, 'company_logo_img_edit');
});



 


/*********PageHeading Change start*************/
function changePageHeading(headingTitle) {
  $('.pageHeading').text(headingTitle);
}



/*********Survey start*************/



function toggleFieldVal(hiddenField){
  var hiddenField = $(hiddenField),
    val = hiddenField.val();

    hiddenField.val(val === "1" ? "2" : "1"); 
}


/*********Input start*************/







/*********select2 start*************/

$(document).ready(function () {
  $(".select2_cls").select2();
  $('.select2_multiple').select2();

 
});

/*********select2 end *************/

$.ajaxSetup({

  headers: {

    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')

  }

});

/* jQuery Form Validation Starts */
$.validate({
   form: '#changepasswordfrm, #profile-edit',  
  modules: 'security , file',
  validateOnBlur: true,

});
/* jQuery Form Validation Ends */

$.fn.select2.amd.require(['select2/selection/search'], function (Search) {
  var oldRemoveChoice = Search.prototype.searchRemoveChoice;
  
  Search.prototype.searchRemoveChoice = function () {
      oldRemoveChoice.apply(this, arguments);
      this.$search.val('');
  };
});


// $("#changepassword").on("hidden.bs.modal", function () {
//   $(this).find('form').trigger('reset');
  
// });
